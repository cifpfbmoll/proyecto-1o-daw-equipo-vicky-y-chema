/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package RentaCar;

import static RentaCar.Consultas_BBDD.*;
import static RentaCar.Impresora.imprimir;
import static RentaCar.Reserva.crearFecha;
import java.awt.Color;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Calendar;
import javax.swing.JOptionPane;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableModel;

/**
 *
 * @author Chema & victoriapeñas
 * @version 1.0
 * @since 2020-06-01
 */
public class Interfaz_Reservas extends javax.swing.JInternalFrame {

    private ArrayList<Vehiculo> listaVehiculos = new ArrayList<>();
    private String nif;

    /**
     * Creates new form Interfaz_contratos
     */
    public Interfaz_Reservas(String nif) throws SQLException {
        this.setNif(nif);
        initComponents();
        showDataVehiculos();
        cargarDatosCliente();

        /**
         * Listener para rellenar campos del vehículo seleccionado
         */
        jTable_Vehiculos.getSelectionModel().addListSelectionListener(new ListSelectionListener() {
            @Override
            public void valueChanged(ListSelectionEvent lse) {
                int fila = jTable_Vehiculos.getSelectedRow();
                TableModel model = jTable_Vehiculos.getModel();
                jTextField_matricula.setText(model.getValueAt(fila, 0).toString());
                jTextField_marca.setText(model.getValueAt(fila, 1).toString());
                jTextField_modelo.setText(model.getValueAt(fila, 2).toString());
                jTextField_clase.setText(model.getValueAt(fila, 3).toString());
                jTextField_precioDia.setText(model.getValueAt(fila, 4).toString());
                jTextField_numPuertas.setText(model.getValueAt(fila, 5).toString());
                jTextField_potenciaMotor.setText(model.getValueAt(fila, 6).toString());
                if (model.getValueAt(fila, 7).toString().equalsIgnoreCase("true")) {
                    jCheckBox_wc.setSelected(true);
                } else {
                    jCheckBox_wc.setSelected(false);
                }
                jTextField_cilindrada.setText(model.getValueAt(fila, 8).toString());
            }
        });
    }

    /**
     * Método para autocompletas los datos del cliente en función del tipo de
     * usuario con el que ha conectado.
     *
     * @throws SQLException
     */
    private void cargarDatosCliente() throws SQLException {
        String query = buscarCliente();
        PreparedStatement pst = null;
        ResultSet rs = null;
        try (Connection con = obtenerConexion()) {
            pst = con.prepareStatement(query);
            pst.setString(1, this.getNif());
            rs = pst.executeQuery();
            if (rs.next()) {
                jTextField_NIF.setText(rs.getString(1));
                jTextField_nombreCliente.setText(rs.getString(2));
                jTextField_apellido1.setText(rs.getString(3));
                jTextField_apellido2.setText(rs.getString(4));
                jTextField_telefono.setText(rs.getString(5));
                jTextField_email.setText(rs.getString(6));
            }
        } finally {
            pst.close();
            rs.close();
        }
    }

    public ArrayList<Vehiculo> getListaVehiculos() {
        return listaVehiculos;
    }

    public void setListaVehiculos(ArrayList<Vehiculo> listaVehiculos) {
        this.listaVehiculos = listaVehiculos;
    }

    public String getNif() {
        return nif;
    }

    public void setNif(String nif) {
        this.nif = nif;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel = new javax.swing.JPanel();
        jScrollPane = new javax.swing.JScrollPane();
        jTable_Vehiculos = new javax.swing.JTable();
        jPanel_datosCliente = new javax.swing.JPanel();
        jLabel_infoCliente = new javax.swing.JLabel();
        jLabel_NIF = new javax.swing.JLabel();
        jLabel_nombreCliente = new javax.swing.JLabel();
        jTextField_nombreCliente = new javax.swing.JTextField();
        jLabel_apellido1 = new javax.swing.JLabel();
        jTextField_apellido1 = new javax.swing.JTextField();
        jLabel_apellido2 = new javax.swing.JLabel();
        jTextField_apellido2 = new javax.swing.JTextField();
        jTextField_NIF = new javax.swing.JTextField();
        jLabel_telefono = new javax.swing.JLabel();
        jTextField_telefono = new javax.swing.JTextField();
        jLabel_email = new javax.swing.JLabel();
        jTextField_email = new javax.swing.JTextField();
        jPanel_datosVehiculo = new javax.swing.JPanel();
        jLabel_infoVehiculo = new javax.swing.JLabel();
        jLabel_matricula = new javax.swing.JLabel();
        jTextField_matricula = new javax.swing.JTextField();
        jLabel_marca = new javax.swing.JLabel();
        jTextField_marca = new javax.swing.JTextField();
        jLabel_modelo = new javax.swing.JLabel();
        jTextField_modelo = new javax.swing.JTextField();
        jLabel_precioDia = new javax.swing.JLabel();
        jTextField_precioDia = new javax.swing.JTextField();
        jLabel_clase = new javax.swing.JLabel();
        jTextField_clase = new javax.swing.JTextField();
        jLabel_cilindrada = new javax.swing.JLabel();
        jTextField_cilindrada = new javax.swing.JTextField();
        jLabel_potenciaMotor = new javax.swing.JLabel();
        jTextField_potenciaMotor = new javax.swing.JTextField();
        jCheckBox_wc = new javax.swing.JCheckBox();
        jTextField_numPuertas = new javax.swing.JTextField();
        jLabel_numPuertas = new javax.swing.JLabel();
        jPanel_datosReserva = new javax.swing.JPanel();
        jLabel_infoReserva = new javax.swing.JLabel();
        jLabel_fechaSolicitud = new javax.swing.JLabel();
        jTextField_fechaSolicitud = new javax.swing.JTextField();
        jLabel_fechaRecogida = new javax.swing.JLabel();
        jDateChooser_recogida = new com.toedter.calendar.JDateChooser();
        jLabel_horaRecogida = new javax.swing.JLabel();
        jComboBox_horaRecogida = new javax.swing.JComboBox<>();
        jLabel_fechaDevolucion = new javax.swing.JLabel();
        jDateChooser_devolucion = new com.toedter.calendar.JDateChooser();
        jLabel_horaDevolucion = new javax.swing.JLabel();
        jComboBox_horaDevolucion = new javax.swing.JComboBox<>();
        Observaciones = new java.awt.TextField();
        jLabel_Observaciones = new javax.swing.JLabel();
        jPanel_botonera = new javax.swing.JPanel();
        jButton_crearReserva = new javax.swing.JButton();
        jButton_limpiar = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();

        setClosable(true);
        setIconifiable(true);
        setTitle("Registro de Reservas");

        jTable_Vehiculos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Matrícula", "Marca", "Modelo", "Clase", "Precio", "Nº Puertas", "Motor", "WC", "Cilindrada", "Tipo"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTable_Vehiculos.getTableHeader().setResizingAllowed(false);
        jTable_Vehiculos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable_VehiculosMouseClicked(evt);
            }
        });
        jScrollPane.setViewportView(jTable_Vehiculos);
        if (jTable_Vehiculos.getColumnModel().getColumnCount() > 0) {
            jTable_Vehiculos.getColumnModel().getColumn(0).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(1).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(2).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(3).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(3).setPreferredWidth(45);
            jTable_Vehiculos.getColumnModel().getColumn(4).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(5).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(6).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(7).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(7).setPreferredWidth(35);
            jTable_Vehiculos.getColumnModel().getColumn(8).setResizable(false);
            jTable_Vehiculos.getColumnModel().getColumn(9).setResizable(false);
        }

        jLabel_infoCliente.setFont(new java.awt.Font("Heiti TC", 1, 18)); // NOI18N
        jLabel_infoCliente.setForeground(new java.awt.Color(0, 0, 0));
        jLabel_infoCliente.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel_infoCliente.setText("Datos cliente");

        jLabel_NIF.setText("NIF");

        jLabel_nombreCliente.setText("Nombre");

        jTextField_nombreCliente.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_apellido1.setText("1º Apellido");

        jTextField_apellido1.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_apellido2.setText("2º Apellido");

        jTextField_apellido2.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jTextField_NIF.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField_NIF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField_NIFActionPerformed(evt);
            }
        });

        jLabel_telefono.setText("Teléfono");

        jTextField_telefono.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_email.setText("E-Mail");

        jTextField_email.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        javax.swing.GroupLayout jPanel_datosClienteLayout = new javax.swing.GroupLayout(jPanel_datosCliente);
        jPanel_datosCliente.setLayout(jPanel_datosClienteLayout);
        jPanel_datosClienteLayout.setHorizontalGroup(
            jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel_infoCliente, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel_datosClienteLayout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel_NIF)
                    .addComponent(jLabel_nombreCliente)
                    .addComponent(jLabel_apellido1)
                    .addComponent(jLabel_apellido2)
                    .addComponent(jLabel_telefono)
                    .addComponent(jLabel_email))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 36, Short.MAX_VALUE)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jTextField_NIF, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField_nombreCliente, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField_apellido1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jTextField_telefono)
                        .addComponent(jTextField_apellido2)
                        .addComponent(jTextField_email, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(5, 5, 5))
        );
        jPanel_datosClienteLayout.setVerticalGroup(
            jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_datosClienteLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel_infoCliente)
                .addGap(18, 18, 18)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField_NIF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel_NIF))
                .addGap(12, 12, 12)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel_nombreCliente)
                    .addComponent(jTextField_nombreCliente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel_apellido1)
                    .addComponent(jTextField_apellido1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel_apellido2)
                    .addComponent(jTextField_apellido2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel_telefono)
                    .addComponent(jTextField_telefono, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel_email)
                    .addComponent(jTextField_email, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel_infoVehiculo.setFont(new java.awt.Font("Heiti TC", 1, 18)); // NOI18N
        jLabel_infoVehiculo.setForeground(new java.awt.Color(0, 0, 0));
        jLabel_infoVehiculo.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel_infoVehiculo.setText("Datos vehículo");

        jLabel_matricula.setText("Matrícula");

        jTextField_matricula.setEditable(false);
        jTextField_matricula.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_matricula.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField_matricula.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField_matriculaActionPerformed(evt);
            }
        });

        jLabel_marca.setText("Marca");

        jTextField_marca.setEditable(false);
        jTextField_marca.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_marca.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_modelo.setText("Modelo");

        jTextField_modelo.setEditable(false);
        jTextField_modelo.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_modelo.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_precioDia.setText("Precio / Día");

        jTextField_precioDia.setEditable(false);
        jTextField_precioDia.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_precioDia.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_clase.setText("Clase");

        jTextField_clase.setEditable(false);
        jTextField_clase.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_clase.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_cilindrada.setText("Cilindrada");

        jTextField_cilindrada.setEditable(false);
        jTextField_cilindrada.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_cilindrada.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel_potenciaMotor.setText("Motor");

        jTextField_potenciaMotor.setEditable(false);
        jTextField_potenciaMotor.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_potenciaMotor.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jCheckBox_wc.setText("Dispone WC");

        jTextField_numPuertas.setEditable(false);
        jTextField_numPuertas.setForeground(new java.awt.Color(51, 51, 55));
        jTextField_numPuertas.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField_numPuertas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField_numPuertasActionPerformed(evt);
            }
        });

        jLabel_numPuertas.setText("Nº Puertas");

        javax.swing.GroupLayout jPanel_datosVehiculoLayout = new javax.swing.GroupLayout(jPanel_datosVehiculo);
        jPanel_datosVehiculo.setLayout(jPanel_datosVehiculoLayout);
        jPanel_datosVehiculoLayout.setHorizontalGroup(
            jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel_infoVehiculo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel_datosVehiculoLayout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel_marca)
                    .addComponent(jLabel_matricula)
                    .addComponent(jLabel_modelo)
                    .addComponent(jLabel_precioDia))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jTextField_modelo, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField_marca, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField_precioDia, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField_matricula, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel_potenciaMotor)
                    .addComponent(jLabel_cilindrada)
                    .addComponent(jLabel_clase))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel_datosVehiculoLayout.createSequentialGroup()
                        .addComponent(jTextField_clase, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel_numPuertas)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTextField_numPuertas))
                    .addComponent(jCheckBox_wc)
                    .addComponent(jTextField_potenciaMotor, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField_cilindrada, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(6, 6, 6))
        );
        jPanel_datosVehiculoLayout.setVerticalGroup(
            jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_datosVehiculoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel_infoVehiculo)
                .addGap(18, 18, 18)
                .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel_numPuertas)
                        .addComponent(jTextField_numPuertas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jTextField_matricula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel_matricula)
                        .addComponent(jLabel_clase)
                        .addComponent(jTextField_clase, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_datosVehiculoLayout.createSequentialGroup()
                        .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel_marca)
                            .addComponent(jTextField_marca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel_cilindrada))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel_modelo)
                            .addComponent(jTextField_modelo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel_potenciaMotor)))
                    .addGroup(jPanel_datosVehiculoLayout.createSequentialGroup()
                        .addComponent(jTextField_cilindrada, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jTextField_potenciaMotor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_datosVehiculoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel_precioDia)
                        .addComponent(jTextField_precioDia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jCheckBox_wc))
                .addContainerGap(14, Short.MAX_VALUE))
        );

        jLabel_infoReserva.setFont(new java.awt.Font("Heiti TC", 1, 18)); // NOI18N
        jLabel_infoReserva.setForeground(new java.awt.Color(0, 0, 0));
        jLabel_infoReserva.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel_infoReserva.setText("Datos Reserva");

        jLabel_fechaSolicitud.setText("Fecha Solicitud");

        jTextField_fechaSolicitud.setEditable(false);
        jTextField_fechaSolicitud.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        jTextField_fechaSolicitud.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField_fechaSolicitudActionPerformed(evt);
            }
        });

        jLabel_fechaRecogida.setText("Fecha Recogida");

        jDateChooser_recogida.setDateFormatString("yyyy-MM-dd");

        jLabel_horaRecogida.setText("Hora Recogida");

        jComboBox_horaRecogida.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00" }));

        jLabel_fechaDevolucion.setText("Fecha Devolución");

        jDateChooser_devolucion.setDateFormatString("yyyy-MM-dd");

        jLabel_horaDevolucion.setText("Hora Devolución");

        jComboBox_horaDevolucion.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00" }));

        javax.swing.GroupLayout jPanel_datosReservaLayout = new javax.swing.GroupLayout(jPanel_datosReserva);
        jPanel_datosReserva.setLayout(jPanel_datosReservaLayout);
        jPanel_datosReservaLayout.setHorizontalGroup(
            jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel_infoReserva, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                        .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel_fechaSolicitud)
                            .addComponent(jLabel_horaDevolucion))
                        .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 27, Short.MAX_VALUE)
                                .addComponent(jTextField_fechaSolicitud, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                                .addGap(27, 27, 27)
                                .addComponent(jComboBox_horaDevolucion, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel_datosReservaLayout.createSequentialGroup()
                        .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                                .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel_fechaRecogida)
                                    .addComponent(jLabel_horaRecogida))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                                .addGap(0, 0, Short.MAX_VALUE)
                                .addComponent(jLabel_fechaDevolucion)
                                .addGap(20, 20, 20)))
                        .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jDateChooser_devolucion, javax.swing.GroupLayout.DEFAULT_SIZE, 125, Short.MAX_VALUE)
                            .addComponent(jDateChooser_recogida, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jComboBox_horaRecogida, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap())
        );
        jPanel_datosReservaLayout.setVerticalGroup(
            jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel_infoReserva)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jTextField_fechaSolicitud, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel_datosReservaLayout.createSequentialGroup()
                        .addComponent(jLabel_fechaSolicitud, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(2, 2, 2)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jDateChooser_recogida, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel_fechaRecogida, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBox_horaRecogida, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel_horaRecogida, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(20, 20, 20)
                .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jDateChooser_devolucion, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel_fechaDevolucion, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel_datosReservaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jComboBox_horaDevolucion)
                    .addComponent(jLabel_horaDevolucion, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(14, Short.MAX_VALUE))
        );

        Observaciones.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ObservacionesActionPerformed(evt);
            }
        });

        jLabel_Observaciones.setFont(new java.awt.Font("Heiti TC", 1, 18)); // NOI18N
        jLabel_Observaciones.setForeground(new java.awt.Color(0, 0, 0));
        jLabel_Observaciones.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel_Observaciones.setText("Observaciones");

        jButton_crearReserva.setText("Crear Reserva");
        jButton_crearReserva.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_crearReservaActionPerformed(evt);
            }
        });

        jButton_limpiar.setText("Limpiar");
        jButton_limpiar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_limpiarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel_botoneraLayout = new javax.swing.GroupLayout(jPanel_botonera);
        jPanel_botonera.setLayout(jPanel_botoneraLayout);
        jPanel_botoneraLayout.setHorizontalGroup(
            jPanel_botoneraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_botoneraLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 213, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jButton_limpiar)
                .addGap(29, 29, 29)
                .addComponent(jButton_crearReserva, javax.swing.GroupLayout.PREFERRED_SIZE, 123, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        jPanel_botoneraLayout.setVerticalGroup(
            jPanel_botoneraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_botoneraLayout.createSequentialGroup()
                .addGap(3, 3, 3)
                .addGroup(jPanel_botoneraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel_botoneraLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel_botoneraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jButton_crearReserva, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jButton_limpiar, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGap(5, 5, 5))
        );

        javax.swing.GroupLayout jPanelLayout = new javax.swing.GroupLayout(jPanel);
        jPanel.setLayout(jPanelLayout);
        jPanelLayout.setHorizontalGroup(
            jPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelLayout.createSequentialGroup()
                .addGroup(jPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel_Observaciones, javax.swing.GroupLayout.PREFERRED_SIZE, 436, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel_datosVehiculo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelLayout.createSequentialGroup()
                        .addComponent(Observaciones, javax.swing.GroupLayout.PREFERRED_SIZE, 416, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                .addGroup(jPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanelLayout.createSequentialGroup()
                        .addComponent(jPanel_datosCliente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel_datosReserva, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel_botonera, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(jScrollPane)
        );
        jPanelLayout.setVerticalGroup(
            jPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelLayout.createSequentialGroup()
                .addComponent(jScrollPane, javax.swing.GroupLayout.PREFERRED_SIZE, 216, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(jPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelLayout.createSequentialGroup()
                        .addGroup(jPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel_datosReserva, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jPanel_datosCliente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jPanel_botonera, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanelLayout.createSequentialGroup()
                        .addComponent(jPanel_datosVehiculo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, 0)
                        .addComponent(jLabel_Observaciones, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(Observaciones, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents
    /**
     * Método para limpiar los campos
     */
    public void limpiar() {
        jTextField_NIF.setText("");
        jTextField_apellido1.setText("");
        jTextField_apellido2.setText("");
        jTextField_cilindrada.setText("");
        jTextField_clase.setText("");
        jTextField_email.setText("");
        jTextField_marca.setText("");
        jTextField_matricula.setText("");
        jTextField_modelo.setText("");
        jTextField_nombreCliente.setText("");
        jTextField_potenciaMotor.setText("");
        jTextField_numPuertas.setText("");
        jTextField_precioDia.setText("");
        jTextField_telefono.setText("");
        Observaciones.setText("");
        jCheckBox_wc.setSelected(false);
        jComboBox_horaDevolucion.setSelectedItem(" ");
        jComboBox_horaRecogida.setSelectedItem(" ");
        jDateChooser_devolucion.setCalendar(null);
        jDateChooser_recogida.setCalendar(null);
    }

    /**
     * Creación ArrayList Motos recogiendo datos de BBDD. Es una JTable interna
     * de este JFrame
     *
     * @return arrayList vehiculos
     */
    private ArrayList<Vehiculo> listarVehiculos() {
        PreparedStatement pst;
        ResultSet rs;
        try (Connection con = obtenerConexion()) {
            pst = con.prepareStatement(unionVehiculos(), ResultSet.TYPE_SCROLL_INSENSITIVE,
                    ResultSet.CONCUR_UPDATABLE);
            rs = pst.executeQuery();
            Moto m1;
            Coche c1;
            Caravana ca1;
            while (rs.next()) {
                if (rs.getString("type").equalsIgnoreCase("coche")) {
                    c1 = new Coche(rs.getInt("numeropuertas"), rs.getInt("potenciamotor"),
                            rs.getString("matricula"), rs.getString("marca"), rs.getString("modelo"),
                            rs.getDouble("precioDia"), rs.getString("clase").charAt(0));
                    listaVehiculos.add(c1);
                } else if (rs.getString("type").equalsIgnoreCase("moto")) {
                    m1 = new Moto(rs.getInt("cilindrada"), rs.getString("matricula"),
                            rs.getString("marca"), rs.getString("modelo"),
                            rs.getDouble("precioDia"), rs.getString("clase").charAt(0));
                    listaVehiculos.add(m1);
                } else if (rs.getString("type").equalsIgnoreCase("caravana")) {
                    ca1 = new Caravana(rs.getInt("potenciamotor"), rs.getBoolean("wc"),
                            rs.getString("matricula"), rs.getString("marca"), rs.getString("modelo"),
                            rs.getDouble("precioDia"), rs.getString("clase").charAt(0));
                    listaVehiculos.add(ca1);
                }
            }
        } catch (Exception e) {
            System.out.println(e);
        }
        return listaVehiculos;
    }

    /**
     * Pinta línea a línea los coches con sus parámetros en la tabla
     */
    private void showDataVehiculos() {
        ArrayList<Vehiculo> lista = listarVehiculos();
        DefaultTableModel model = (DefaultTableModel) jTable_Vehiculos.getModel();
        Object[] fila = new Object[10];
        for (int i = 0; i < lista.size(); i++) {
            fila[0] = lista.get(i).getMatricula();
            fila[1] = lista.get(i).getMarca();
            fila[2] = lista.get(i).getModelo();
            fila[3] = lista.get(i).getClase();
            fila[4] = lista.get(i).getPrecioDia();
            if (lista.get(i) instanceof Coche) {
                fila[5] = ((Coche) lista.get(i)).getNumeroPuertas();
                fila[6] = ((Coche) lista.get(i)).getPotenciaMotor();
                fila[7] = "";
                fila[8] = "";
                fila[9] = "Coche";
            } else if (lista.get(i) instanceof Moto) {
                fila[5] = "";
                fila[6] = "";
                fila[7] = "";
                fila[8] = ((Moto) lista.get(i)).getCilindrada();;
                fila[9] = "Moto";
            } else if (lista.get(i) instanceof Caravana) {
                fila[5] = "";
                fila[6] = ((Caravana) lista.get(i)).getPotenciaMotor();
                fila[7] = ((Caravana) lista.get(i)).isWc();
                fila[8] = "";
                fila[9] = "Caravana";
            }
            model.addRow(fila);
        }
    }

    /**
     * Calcula el precio de la reserva teniendo en cuenta la diferencia de días
     * y el precio.
     *
     * @return Precio final reserva.
     */
    private Double calcularPrecio() {
        int dias = jDateChooser_devolucion.getCalendar().get(Calendar.DAY_OF_MONTH) - jDateChooser_recogida.getCalendar().get(Calendar.DAY_OF_MONTH);
        return dias * Double.parseDouble(jTextField_precioDia.getText());
    }
    private void jButton_limpiarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_limpiarActionPerformed
        limpiar();
    }//GEN-LAST:event_jButton_limpiarActionPerformed
    
    /**
     * Se creará una nueva reserva mediante insert en la base de datos
     * con la información que esté en los campos del formulario.
     * @param evt
     */
    private void jButton_crearReservaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_crearReservaActionPerformed
        int reply = 0;
        Calendar fechaRecogida = jDateChooser_recogida.getCalendar();
        Calendar fechaDevolucion = jDateChooser_devolucion.getCalendar();

        jComboBox_horaRecogida.getSelectedItem().toString();
        jComboBox_horaDevolucion.getSelectedItem().toString();

        try {
            Reserva r1 = new Reserva(jTextField_matricula.getText(), fechaRecogida, fechaDevolucion, Observaciones.getText(), 0.00);
            jTextField_fechaSolicitud.setText(crearFecha(r1.getFECHASOLICITUD()));
            if (jTextField_matricula.getText().equalsIgnoreCase("") || jTextField_matricula.getText().equalsIgnoreCase(null)) {
                jLabel1.setForeground(Color.RED);
                jLabel1.setText("Por favor seleccione un vehículo.");
            } else {
                r1.registrarReserva(jComboBox_horaRecogida.getSelectedItem().toString(),
                        jComboBox_horaDevolucion.getSelectedItem().toString(), jTextField_NIF.getText(), calcularPrecio());
                reply = JOptionPane.showConfirmDialog(null, "¿Desea imprimir una copia de la reserva?");
                if (reply == JOptionPane.YES_OPTION) {
                    imprimir(this);
                } else {
                    this.dispose();
                }
            }
        } catch (Exception ex) {
            jLabel1.setForeground(Color.RED);
            jLabel1.setText(ex.getMessage());
        }
    }//GEN-LAST:event_jButton_crearReservaActionPerformed

    private void jTextField_NIFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField_NIFActionPerformed
    }//GEN-LAST:event_jTextField_NIFActionPerformed

    private void jTextField_matriculaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField_matriculaActionPerformed
    }//GEN-LAST:event_jTextField_matriculaActionPerformed

    private void ObservacionesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ObservacionesActionPerformed
    }//GEN-LAST:event_ObservacionesActionPerformed

    private void jTextField_numPuertasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField_numPuertasActionPerformed
    }//GEN-LAST:event_jTextField_numPuertasActionPerformed

    private void jTable_VehiculosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable_VehiculosMouseClicked

    }//GEN-LAST:event_jTable_VehiculosMouseClicked

    private void jTextField_fechaSolicitudActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField_fechaSolicitudActionPerformed
    }//GEN-LAST:event_jTextField_fechaSolicitudActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private java.awt.TextField Observaciones;
    private javax.swing.JButton jButton_crearReserva;
    private javax.swing.JButton jButton_limpiar;
    private javax.swing.JCheckBox jCheckBox_wc;
    private javax.swing.JComboBox<String> jComboBox_horaDevolucion;
    private javax.swing.JComboBox<String> jComboBox_horaRecogida;
    private com.toedter.calendar.JDateChooser jDateChooser_devolucion;
    private com.toedter.calendar.JDateChooser jDateChooser_recogida;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel_NIF;
    private javax.swing.JLabel jLabel_Observaciones;
    private javax.swing.JLabel jLabel_apellido1;
    private javax.swing.JLabel jLabel_apellido2;
    private javax.swing.JLabel jLabel_cilindrada;
    private javax.swing.JLabel jLabel_clase;
    private javax.swing.JLabel jLabel_email;
    private javax.swing.JLabel jLabel_fechaDevolucion;
    private javax.swing.JLabel jLabel_fechaRecogida;
    private javax.swing.JLabel jLabel_fechaSolicitud;
    private javax.swing.JLabel jLabel_horaDevolucion;
    private javax.swing.JLabel jLabel_horaRecogida;
    private javax.swing.JLabel jLabel_infoCliente;
    private javax.swing.JLabel jLabel_infoReserva;
    private javax.swing.JLabel jLabel_infoVehiculo;
    private javax.swing.JLabel jLabel_marca;
    private javax.swing.JLabel jLabel_matricula;
    private javax.swing.JLabel jLabel_modelo;
    private javax.swing.JLabel jLabel_nombreCliente;
    private javax.swing.JLabel jLabel_numPuertas;
    private javax.swing.JLabel jLabel_potenciaMotor;
    private javax.swing.JLabel jLabel_precioDia;
    private javax.swing.JLabel jLabel_telefono;
    private javax.swing.JPanel jPanel;
    private javax.swing.JPanel jPanel_botonera;
    private javax.swing.JPanel jPanel_datosCliente;
    private javax.swing.JPanel jPanel_datosReserva;
    private javax.swing.JPanel jPanel_datosVehiculo;
    private javax.swing.JScrollPane jScrollPane;
    private javax.swing.JTable jTable_Vehiculos;
    private javax.swing.JTextField jTextField_NIF;
    private javax.swing.JTextField jTextField_apellido1;
    private javax.swing.JTextField jTextField_apellido2;
    private javax.swing.JTextField jTextField_cilindrada;
    private javax.swing.JTextField jTextField_clase;
    private javax.swing.JTextField jTextField_email;
    private javax.swing.JTextField jTextField_fechaSolicitud;
    private javax.swing.JTextField jTextField_marca;
    private javax.swing.JTextField jTextField_matricula;
    private javax.swing.JTextField jTextField_modelo;
    private javax.swing.JTextField jTextField_nombreCliente;
    private javax.swing.JTextField jTextField_numPuertas;
    private javax.swing.JTextField jTextField_potenciaMotor;
    private javax.swing.JTextField jTextField_precioDia;
    private javax.swing.JTextField jTextField_telefono;
    // End of variables declaration//GEN-END:variables
}
